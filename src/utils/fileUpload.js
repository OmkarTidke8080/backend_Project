import { v2 as cloudinary } from "cloudinary";
import fs from "fs";

cloudinary.config({
  cloud_name: process.env.CLOUDINARY_CLOUD_NAME,
  api_key: process.env.CLOUDINARY_API_KEY,
  api_secret: process.env.CLOUDINARY_API_SECRET,
});

const uploadOnCloudinary = async (localFilePath) => {
  try {
    if (!localFilePath) return null;
    cloudinary.uploader.upload(localFilePath, {
      resource_type: "auto",
    });

    // file has been uploaded successfully
    console.log("file is uploaded on cloudinary", response.url);
    return response;
  } catch (error) {
    fs.unlinkSync(localFilePath);
    // remove the locally saved temporary file as the upload operation got failed
  }
};

cloudinary.v2.uploader.upload(
  "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBwgHBgkIBwgKCgkLDRYPDQwMDRsUFRAWIB0iIiAdHx8kKDQsJCYxJx8fLT0tMTU3Ojo6Iys/RD84QzQ5OjcBCgoKDQwNGg8PGjclHyU3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3N//AABEIAJQA2wMBIgACEQEDEQH/xAAcAAEAAwEBAQEBAAAAAAAAAAAABQYHBAEDAgj/xAA9EAABAwMDAQYEAwcDAwUAAAABAgMEAAURBhIhMQcTIkFRYRQycYEjYpFCUnKCobHBFRYzNKLwJUNzktH/xAAYAQEBAQEBAAAAAAAAAAAAAAAAAgMBBP/EACIRAAMAAgICAwEBAQAAAAAAAAABAgMREiExQRMiMlFCYf/aAAwDAQACEQMRAD8A3GlKUApSlAKUpQClKUApSlAKUpQClKUApSlAKUpQCleZpnnFAenpXmagr5q20WclqQ+XZJ4EZjCnCT0zzhP1JArOrzrjUd/U9G0+2mHHRw5JbWlQR6hTpwlJ6cDJrScVUQ7SNOvV/tlmb3TpSUL8m0+JZ/lHNZxqbtRkqaSbE2htAGXiob1o8WEhWMpRk48yTnivnZtFTLiGlTQqZncpa3VqSxlXVW4jvHFcDoEj81W17SjVvtIQ2rvWwcOx0NpQwpKvPu+hKThWSSfD18qtLHL0+yHypfwntOXZq+WSHcWQUpfbCinPKFdCD9DmpWsm7JJ79qutw03cSlCy6osp3AZcTwrA9wN32NaxWeSeNFw9o9pSlQWKUpQClKUApSlAKUpQClKUApSlAKUpQCleV+XFpbQpa1pSlIyVKOABQH7r8lVUjUnaZZrQ6uLE33CWOChrhCT6FZ4P2z9qpku56v1XM7uRINtt7yVIbQAW0rJSQPD87nJ8hjjy61rOKn2+iHaRod911Z7Q+mL3qpcxSkpDMcbsbjgFSugHPufY1RLpq/VGo9yLSyiBBQ6UCV3pQh3njxHBOfRIz/apHTvZylPdvPsEYGA5OSFr+qWQdo9t5UR5jitAgWOBCdL6Gi7IP/vPqK1geic/KPZOBVbxx47ZOqoz+BoN2cpBmNofSUpK3JCQ20s4GSltOFL8vn29Ohq7W3TNvhd0taBJcZ/4i4kbGv8A42wNqPqBn3ruud0g2pnvbjKajoPy7zyo+gHU/as2v3a2lxDzWnoytyR4ZEhHBHqEj/JH0ri+TIPrBqmQDjPJ8qLQlxBStIKVDBSfT0rHdDtaxumood4kGQ8yg/iPy1d2hSFDxISnHrgjAxkeVbInpUZJ4PWyprkjDNbwZWnb7Gu0XPfwn0trV5uJHLKifPKAUE+ZbrarXOauVvjTGP8AjfbCx7ZHSq52gWlmdblLdSAhwCO+5jPdhR8DmPPa5tPsCo1X+yC6hhc/TrqXEGM8tbKVjAHOFJH0PP8AMa0f3x79olfWtGnUpSsDUUpSgFKUoBSlKAUpSgFKUoBSvCa5bhcoVsjKk3CUzGZT1W6sJH9aDZ1ZFfh95phsuPOIbQnkqUcAVm167U2nHFRdMxVSnzkIeeQraTjjCB4lZ+1QjLeqdRSWf9YlvNvIIV8JDT+Kf4wFbWvL5iOp4zWywvzXRm8i8Isl/wC1O1xEOosqTcH0KCQrCktkn0OPF9uvlVPmJ1Pqx9KL1MfjsO7SiMhshRT+RlPi/mc4960K36NaMpUqQ2zEWs5X8OMvL6/M71H8gBwAMmrNBt8S3tluGwhpKjyQOVH1J6k+5rvyTH5XZzjVfoo9m7PWmnUynG/h3SdxdeCH30n8vBQjp5BR96ututMK35VHZ/EV87riitxX1UrJNcN61dYbGvu7lc2W3sZ7lOVrx/CnJx71y2fXmnbzJ+GiT9r/AJJeQW93OOCRg8mornS3opcUSV41BaLMW03Gc0y44oJQ38yzk4+UZOOeT0FSacEAjpWP9q8V+z6gYu8ZtJamtFp1aE4VkYyncPVPIznofLirf2XagF5022y64VyoOGHSrqRjwq+4/qD6V2seoVIK/tpn17R7Ai92LvQ2pciCv4hrb1IHzJ98jy9QKzXsqdtzerAi4Bh1clpSY6nEeNLm7PTGBuGeOegrd+or+d9dWh3TuqZLaFqaZddMiKtPG0KJOB6bSMfTFa4Hyl4zPKuL5G13/VNo0+xumSMucBLDKd6yc4HA6ckDJwOa/Wl9RR9RQVSGG3GVIWULZcxuQR6/oR9qy/s70M9dlx75KmNGIpStzfKluEHlKj5cgH16VqVi07adOMOItkdLPeHLrilblLPqpRrLJMT0n2XLp9sk5MduVGcjvpCmnUFCwfMGsS1EH9L6rh3sBxb7L/cycqwkqSkeL+dshXpnd5ityyMfWqdr+1JkxS62wwtUhPcb3Ubgh0Z7lRGcY3Ep6ftj0pirT16Z3ItotcGU1MiMyo6wtp5AWhQ8weRX3rN+xu/qmW1+zSwESISstN4wQ2TynH5VZH6elaRUXPGmjsvc7PaUpUlClKUApSlAK8oahr7qe0WFP/qU1ttwjKGUnLix6hPp79KJN9I42kTNR95vlsscX4m6zGYzXITvVyo4zhI6k+wrMrt2kXu9OIi6TgqbSQVLdUAtSRnAyflb6E+L26V+oelXNTW0Oz1OSpC5XxDq2XyGCdu0hLigTsIwcIzyDgitvi1+2R8m/B2XrtPlm8C3WCzuSihQDhIKlqGOQlKc4PueBjkVW2NL3fU84u3edJmlCjtbZWlZaJ6hTnLaD6hO48dK0qz6NhQ2FNye7cSr5mGW+7ZP15Kl/Vaj9BVmZabaaS2yhKG0jCUpGAB9K68sz1COcHX6KlYtERICEqcCWDjC2oqiN48t7h8avsUp9qtEWLHhMBmIy2yykcJbSABXRisi7Zbtc4t0jQWZTzcF1jctps7Qo5I5I5qJVZa1sqmoWzVIs2LLU4mJJZeLStrndrCtivQ46H2rIu0rVupIV/l2cPIhw9gLamU4U6gjqVn3yOMdPOobsqvarLqZEdxSRDmDunOeEqz4VfqcH6+1XztjsAuFlRdWUKVIgnC9vUtKIz+hwa2mFjy6oh1zjaKjozs8f1DBbus2ez8LIyUhIU44SDg5IIwcjmuLXGl/9nvNtNLMiNNaKd5O0jCgduOueRg5qR7M9YI0/arkzcEOORm1pdQG+SFK4I9hwP8Aw1C6hvN217fWG2YvKfBFitAq2A8lSj9hk8AVqvk5vf5Mnx4deTRLY2vXPZv3MguJmNlTaVrxu7xs8Z9cjg/WqXoG9osGqg24liFGlq7qQgqUfFnwdc42k4Iz5mta0bYk6c0/Gtu/e4jK3V+q1HKse2TWQ9rljRatQ98hKwxcAp0fuhXAWPb9k/zGs8dTTqPTNLTSVG9VT+0qzsT7J8c80XBAJeW2hOVOI2nKR6HJByQfPjmqmntZdh2KI18D39xQ0lMh11WGwRx5cknFdGgbxqK9X1TtwQ/Mt8mOUyFFG1hrzAT5E8kEDPvWaxXH2/hTua6K7pLWszTVvnd1AXKiLCFR9ziQlteMHJHkeOgzn61yv3PVuvJSoyEvSI6jhTUZJbjpH5lf/pOfSr7ZuyezQ5i5FxddnDvFFplXhbSnJwFAcqOMD046VfGGI8RhLTDbbLKBhKUAJAFXWaE9yuyVjp+WcemY06FYYUW6uIclstBC1pOd2OnOBk4xmuq4xGp8B+I/8jyCk84Iz5j3HWoW6awt0RtS460vpSSkvlYQwFeneHgnPGE7j7VQ5+u3rjJcYRvl72yG2EIU2w6cgbUgZccPXk4HHy1lOOqezR0l0RMt97S+s41+Ckdy44pExIIwVg7Xkj68OD6j0rcmnEutocbUFIWkKSoHqDWQWvQupdQltzULzMGKk5QwGklSRjolA4T/AHrVLTb2bVbY0COt5bUdAQhTityiB6mqzOWl32TjVIkKUrwkCsDU9rym4etVHUnaFYrGl1CXfjZSDgsRiCc+6ugrsy68HG0vJbjVd1DrKy2AOIlSg5IQOY7HiXnyB9M488Vnz2pr7rGP+G67Z7etZT37f/G4P2U78hZJOQdoPlx1rs072Z92haZaUPKU4CpyQghrjPKWgcq69VkeuK1WOZ/bM+bfUo55mstS6miSnbK23b4aVBG7vBvCSDlanD4U444H9a+dj7PVznG5MxDst3aCp15a0MqVkncSfxHPLjwg461pcDTsGIWVrR37rI/CU6Bhr+BIG1P2FSMqWxCjOSJbyGmm0la1qOAABkn9KPLrqEFHuiKiaat7OA+0H0JUVIaUkBtP8g4J9zk+9TeAAAOBXDaL1b7zHL9ukJeQDzgYI9Dj0Nd55rJ79mi16KPrPtBjackqgMxVvz9oKQ5ltvn82Dn+3HUVEaH7S3J8oRNRdy0ZCyI0hsbUZ/cVnp5YPvz5Z/XbVYVSbdHvccDvImW3s+bZ6H7K/uaz632dWpW5EG3uIXLiDvWEu9XmVY3IyOqkk59wo+levHjx1j2YVVKj+jjyKyHt0aAdgO97tWptSUthOScftZ8sZ++a97PdeuwJKLBqNZCUnumJS1ZKD0CFnzHor7Gu/tnhNTBaElxtt51xbTSnCQkHg8npz059azxy8eRFVXKGZ/rS1G1XKJMip7qLcIyJLJb42KKRvA+5z9FVtGi7sjVGk2HpKQXVNqYlIP7w4P2I5+9V64WP/Weym3B1kuT4UJC28K8QWlOFAHoeAfrVf7KrnGs1zYt7koKNzHyIIUgKHKDkdCR4SD54q7+8f9RM/Wu/ZDXOwRIV2vLEprunre0pbLLO7bIRx4uT4TtUMkHH0rZdJQrPHs8d+xRWmY0hsOApHJyPM9SaqvaxaSRAviULWiIpTD6EZ+RwFOR6cn+vn0r79jzd4jWJ2NdIjzMZLm+Ip4YUUq6jaeQARn7moyVzxp7Klca0X7A9KgtaWN6/2J6FEfSxIJBbcWnckeoIx0xU6SBXPNnRYDCpE2Q2wynqtxQSP61gm09o2a2VKzdnFkgvIkzo7UyXwVKUghvcM8hBJ/zVvcUxGjla1tsstp5USEpSB/QCqnqLXMa2I2oLbBUnKXJQIJH5Wh41ffaPes7c1LetUXDurNBfmuoVkOP4WUe4QB3bX/cfetlF5O2ZcpnpGk3jW0KEx3sXYptQyiRIX3bSh6p43OfyjHvWdz9aT9QS1wYEZ+5OlPhBa/DB8sMgnw+7ilfQVP2zsqMyWZ+pZ7rq3DuU0lRLh/Ktwk5x7AVodps8Czxu4tsRqOjzCByr3J6k/Wu7xx47ZzV156M0svZvdbrNjXPVc0jaP+l+cgY6Z+VI6HAFaPZ7HbrQlKYMVLZCA3vIyopHQZPOPapPFe1lWSq8lzCkYrzA9BXtKgs+bjqWkFbpCEJGSpRAAH1qj6p7T7NZlORoYVPmI4KWztbQfzLP+Aaju2OFNMBubHfeVHS2WywFnaF5BCtoHORu69MVzaF0va5CAqNtThpp5LziUuvncOSnI2o5Ck8DPA56VtMSp5UZVVb4ogLhcNXau2Jmv/6bAePgZAUjvR6BAytzj7VYtM9myGAhx5gIHm7MbStZ/hZGUIHoVFR9hWiW21QrclRisgOL/wCR5aitxz3Us8n7mv3c58a1wX5s1wNx2Ulbij5CjyvWpCxpds54FlgwXQ+lvvZONvxDx3OY9Af2R7DAqSTWLz+02+XS5Fi0R1xo+4pS2hvvH1DB5OeAc+WOK+to7SL3GnNIlMOT2lOhtxlLf4qOBkjA5OQeCPWuvBetsfJO9GyVRO1VKlxbQ23t3uTSgbjgHLax/mry2ve2lYBAUM4Iwaz7tpSP9vRXSVZbk5TtOOdpFRi/aKv8syyy3K56akRp7JfabUsp3J+Ve0+JODwT6g4/yNx0drCDqaOoNEolNbe8bIIBznBTnqOD+hqoaCNonaBuCdQlhEQz3VKU6rG0kJVlJPORnrVOjxGbVdoblrnPSWlPupYWAW1PFDW5JwMHIUtI993HBNem5WRta7RjNOezfLhEZuEF+JJTuZfbKFj2Ir+dg9I0fq5J7tffW13a4OPxU+ZHoFJIwPKtS0Rr03BTVs1A18JcCkFp1adrckeo9D7dP7VCdtdjCTEvzLeU/wDTySPLPyK/XI+4qMP0rhXhlX9lyRL6r0hBviY2pLKy2+44lLzjI+WUgjIUPzc554PQ+tZvdbvNudiYtE9TrsyA+Vsb28KU1ggp45BSR09AfStD7G758RbH7HJViRBO5tCuvdk+nsrI9sip7UGiIF3u8a6tOrhTGnAp11lIy8keSs8Z8s+nFJyfHXGvQccltH67NJDkzQ9scfVvWErbUeu7a4pOf0Aqoudl8xzUchyPIYiW5Mnv2XQN7vIBwlP7O1W7nPpxWj2S0xLHbm7fbm+7jtlRSkknkkk/1JpcbtDt6koku5eUMoYbSVuK9wkc/fpWKyUqfH2acVpbO1KPAkKO4gDJ9cVyzrlDtyUqmPpbK+EJzlSz6JSOSfYVSLv2hIalR2EDug68EBhkB15XIHiVnYjqOAVH6VV1QNS6ofeXYULix1uFl56QtSHyAf2nSCpSPMBHHOMdapYn/ro47XouWp9esW1CdiksgjkFHeP59A30Tx5rUMelVWz3K+X66Oy7XCdecjoCW5D6t6itX5yNqEjqUoAzgVaLF2Y2mGtx26kz1rVkIXkNpHkMftff9KvDLDTLaW2W0ttpGEoQMAfQV3nE9SjnGq8mdWPsub7/AOM1PNVOkqOS02SEZ91HxK6e1aBBt8O3xkxoMZphhHyttoAFdOBXtZVdV5ZalI8AxXtKVJQpSlAKUpQHBe7eLna5MLeW1OIIQ4ngoV5KH0NZJ2f3d23S1Q5yCzLtjjgeKlZC2ScOp5/dUELHsD71tJFZJ2l2n/RNRMaljgFLow4zsUQ4tIOQSOBuRkc1thae4Zlk61RrScbcjoelUPtoEj/Z4+G3FHxbXfBJOSOcf922p/R9yjzbQy3HcW4hhpHdrXklbRTltRzznbwfcGpiXGblx1sPICm1jBB/v9ahPhffoulykx/ss1HZbR8Ym8vlqa8oKEh5BVlOPl3ckc8496tZ19oWFNelNPJ+Kex3rzMFwqXjgZUE81Xrh2OOKkFVvvKUMnomQyVrH3BGa6GOyFAiFuRckOPc7FhkgA49M9K9FPDT5bMVzXWi+2LUdov7ZXaZzb+3lSAClSfqk4I/Sqt2xu9zY4ZLDT6VScFLoJHynB4/T71RY0CTpTUZfbmQ4kmOvbskvjapvcN2PZQ6Z586vXa2ymXYoDhfQwwh/vFurPATsPl1PUcAE+1QoUZJ14K5OpezO9H6Re1S4RGMhiGwra86taVJCiASEjrkjbzitSt/Z1Yo+1UtlU1xIISXThKc+YSOAeBz7DpUb2KsIasM9bawtD0zcDuBPyJHPocg8VomcUzZK5NIY4XHbMd1F2b3Fl2QYBM+LsT8I244Qpo5wU/pyD045x53TTliur+l12nVzjclLiAgJSoqcSn0UvzI45/qat2RUNM1Hb2XFssO/EPI+buj4Gz+ZZ8KfoTn2qHkqlopQl2dNqtFus7JatsRpgHG5SRlSyBjxHqTgedfK432DCK2gpUiSgZMdjClj65ICfqois+1FreRKgtqgFcpLm8KahrU2jwkA5XgOK6j5dufpUXa9G6s1HsVOfRbbYsbw2lHd7TnOA2PP8yjnnqapYvds479SS187R2lPiO3L7tClBKkwju2ZOPE90z7IB/iqPh2DUuqoDyMrtKA9tOUqDchv1Uc71qGOqjg+1XrT2gbFYlJebi/Ey0nIkScLUk+qR0T9uferUBgYo8kz1CHB1+imac7OLNZ+4dkg3CQycoW+PCg5zlKOnXnJzVyAA4AAFfqlY1TryaJJeDzGPKvaUrh0UpSgFKUoBSlKAUpSgFQusbIjUOnpduVje4nc0r91wcpP61NV4ea6np7ONbMW7L725ElCK9lK4iizIbUcYZUvGfq27gH2cV6VtNZB2jxWtM6kiXaO2fhZyl/GNAcL3fPjHUkZP15rRdKXJU+1IQ64HH457pxYI/EAAKHOPJaClX3rXKuWrREdblkNr7Vk7TTQ+FgBSFtlXxS8lCVZA24HnyOpFViP2syUWpTr9rDsgOFtC0uhKSfLd6eXStTlw40yOuPLZbfZWMKQ4kKBH0qvI7PNKIcUsWhshRyWy4st/8A0zt/pXIrGl9kKmm+mZbp+Fd9fX0vzu8Wwl4LkSeQhDfP4SQfM549Mk1st509bL23FbucVL7UVzvW2lE7N2McgdRg9DxXVshWuHgBmJFaGc5CEIH9qgLxrSJCiF+MU91nAkSApCFcZygY3OD3SMcda7VO39UFKldssbTceI0EtJbaZQOiQEhNQV21jboTC3GlIdbT1kLWG2AfTefmPsgKNZvddV3W/PGNao705/wLCXWcpGTgFtkcY5zlZVipC19mVzvTjUvVs91taQPwW1hawPTPyp8vlz0rvxKe7Zzm31KOa969kz30R4UV+4B/5Gg2pDRxwcIT43Mn97jjpX2suhtSXp9mXf5HwLCEkJYO1SsYxw2PAjj7/StKsWnbVYWQ1a4aGfVfzLV9VHk1KgVx5UuoQUb/AEyC09pK0aejhqBHyrdvU68retSsYzk9OPTFToFe0rJtvyaJJClKVw6KUpQClKUApSlAKUpQClKUApSlAKUpQFb19p//AHHp52I3gSmiHoyj5LT5fcEj71S+y28OslMSYdjjSvhnkrOCElR7pX2Vub+6fatWP0rEdX286W1zIlpQ4qBNZW6UJVglBxvQknjKSAsZ6YHpW+L7S4Zla0+Rss6fEt0cyJ0lqOyngrcUEjPkB6nyxVXvGtkMK7mElLbqhlJkoUVkeoZGFY91FA96z+PcdTarnhFmiuFpvcgzt4W4OOheI2p5xkIAPX61brL2ZNbW16iluSyOTGaJQ0TnOVn5lnPr/WnxzH7Y5uvBW3rtfNUSkItDa3VpX3ZffT3jiDn5igfhtADODgk8c1YrX2aIeZaXqC5S5Tnel1xvcPxCU42qVySnHkCOpq/woceDHRHiMNsMoGEttpAAroqXlf8Ano6o/pw2u1wbVHTHt8VqO2kAbUJ8vr5124Fe0rJ9mmhilKUApSlAKUpQClKUApSlAKUpQClKUApSlAKUpQClKUAqMvFlt15McXOI3ISw53iErGRn3HnXlKb0cfg72Gm2EIaZQlDaRhKUjAA9hX1pSgQpSlDopSlAKUpQClKUApSlAKUpQClKUApSlAKUpQClKUApSlAf/9k=",
  {
    public_id: "olympix_flag",
  },
  function (error, result) {
    console.log(result);
  }
);

export { uploadOnCloudinary };
